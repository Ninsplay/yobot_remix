<!DOCTYPE html>

<head>
    <title>个人出刀记录</title>
    <meta charset="utf-8" content='width=480' name='viewport'/>
    <script src="/yobot-depencency/vue@2.6.11/dist/vue.min.js"></script>
    <script src="/yobot-depencency/axios@0.19.2/dist/axios.min.js"></script>
    <script src="/yobot-depencency/element-ui@2.13.0/lib/index.js"></script>
    <link href="/yobot-depencency/element-ui@2.13.0/lib/theme-chalk/index.css" rel="stylesheet">
    <script src="/yobot-depencency/jquery@2.1.1/jquery.min.js"></script>
    <script src="/yobot-depencency/yocool@final/princessadventure/yocool.js"></script>
    <link href="/yobot-depencency/yocool@final/princessadventure/style.css" rel="stylesheet">

    <style>
        .el-table {
            width: 1060px;
            margin: 0 auto;
        }

        .el-table td,
        .el-table th {
            text-align: center;
        }

        .el-popover {
            white-space: pre-wrap;
        }
    </style>
</head>

<body>
<div id="app">
    <div id="topToolbar">
        <el-page-header @back="location='..'" content=""></el-page-header>

        <el-menu :default-active="activeIndex" @select="handleTitleSelect" class="el-menu-demo" mode="horizontal">
            <el-menu-item index="6">排名</el-menu-item>
            <el-menu-item index="5">我的</el-menu-item>
            <el-menu-item index="4">统计</el-menu-item>
            <el-menu-item index="3">查刀</el-menu-item>
            <el-menu-item index="2">预约</el-menu-item>
            <el-menu-item index="1">面板</el-menu-item>
        </el-menu>
    </div>
    <h1 style="text-align:center">[[ nickname ]]的出刀记录</h1>
    <template v-if="challengeData.length > 0">
        <el-table :data="challengeData" :span-method="arraySpanMethod" stripe style="width: 1100">
            <el-table-column label="日期" prop="pcrdate" sortable width="100"></el-table-column>
            <el-table-column label="完成" prop="finished" sortable width="60"></el-table-column>
            <el-table-column label="第一刀">
                <el-table-column label="尾刀" width="150">
                    <template slot-scope="scope" v-if="scope.row.detail[0]">
                        <a v-html="csummary(scope.row.detail[0])"></a>
                        <el-popover effect="light" placement="top" trigger="hover">[[ cdetail(scope.row.detail[0]) ]]<i
                                class="el-icon-info" slot="reference"></i></el-popover>
                    </template>
                </el-table-column>
                <el-table-column label="剩余刀" width="150">
                    <template slot-scope="scope" v-if="scope.row.detail[1]">
                        <a v-html="csummary(scope.row.detail[1])"></a>
                        <el-popover effect="light" placement="top" trigger="hover">[[ cdetail(scope.row.detail[1]) ]]<i
                                class="el-icon-info" slot="reference"></i></el-popover>
                    </template>
                </el-table-column>
            </el-table-column>
            <el-table-column label="第二刀">
                <el-table-column label="尾刀" width="150">
                    <template slot-scope="scope" v-if="scope.row.detail[2]">
                        <a v-html="csummary(scope.row.detail[2])"></a>
                        <el-popover effect="light" placement="top" trigger="hover">[[ cdetail(scope.row.detail[2]) ]]<i
                                class="el-icon-info" slot="reference"></i></el-popover>
                    </template>
                </el-table-column>
                <el-table-column label="剩余刀" width="150">
                    <template slot-scope="scope" v-if="scope.row.detail[3]">
                        <a v-html="csummary(scope.row.detail[3])"></a>
                        <el-popover effect="light" placement="top" trigger="hover">[[ cdetail(scope.row.detail[3]) ]]<i
                                class="el-icon-info" slot="reference"></i></el-popover>
                    </template>
                </el-table-column>
            </el-table-column>
            <el-table-column label="第三刀">
                <el-table-column label="尾刀" width="150">
                    <template slot-scope="scope" v-if="scope.row.detail[4]">
                        <a v-html="csummary(scope.row.detail[4])"></a>
                        <el-popover effect="light" placement="top" trigger="hover">[[ cdetail(scope.row.detail[4]) ]]<i
                                class="el-icon-info" slot="reference"></i></el-popover>
                    </template>
                </el-table-column>
                <el-table-column label="剩余刀" width="150">
                    <template slot-scope="scope" v-if="scope.row.detail[5]">
                        <a v-html="csummary(scope.row.detail[5])"></a>
                        <el-popover effect="light" placement="top" trigger="hover">[[ cdetail(scope.row.detail[5]) ]]<i
                                class="el-icon-info" slot="reference"></i></el-popover>
                    </template>
                </el-table-column>
            </el-table-column>
        </el-table>
        <el-button @click="viewInExcel" size="mini" style="margin-top: 10px;">在Excel中查看</el-button>
    </template>
    <template v-else>
        <p>没有记录</p>
    </template>
    <a href="{{ url_for('yobot_user_info', qqid=qqid) }}">
        <el-button size="mini" style="margin-top: 10px;">查看用户：[[ nickname ]]</el-button>
    </a>
</div>
</body>
<script>var csrf_token = "{{ session['csrf_token'] }}";</script>
<script src="{{ url_for('yobot_static', filename='clan/user.js') }}"></script>

</html>